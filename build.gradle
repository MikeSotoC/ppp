plugins {
    id 'java-library'
    id 'idea'
    id 'com.github.johnrengelman.shadow' version '6.1.0'
}

group 'com.github.heretere'
version '1.0.0'

repositories {
    mavenLocal()
    mavenCentral()
    maven { url 'https://jitpack.io' }
    maven { url 'https://hub.spigotmc.org/nexus/content/repositories/snapshots' }
    maven { url 'https://repo.aikar.co/content/groups/aikar/' }
}

dependencies {
    annotationProcessor 'org.spigotmc:plugin-annotations:1.2.3-SNAPSHOT'

    compileOnlyApi 'org.jetbrains:annotations:20.1.0'
    compileOnly 'org.spigotmc:plugin-annotations:1.2.3-SNAPSHOT'
    compileOnly 'org.spigotmc:spigot-api:1.16.4-R0.1-SNAPSHOT'

    implementation 'com.heretere.hdl:hdl-spigot:1.4.3'
    compileOnly 'com.github.heretere:hch:v1.1.0'

    /* ACF */
    implementation 'co.aikar:acf-paper:0.5.0-SNAPSHOT'
}

compileJava {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

shadowJar {
    archiveFileName = 'HPWP.jar'
    relocate 'com.heretere.hch', 'com.heretere.hpwp.libs.hch'
    relocate 'com.heretere.hdl', 'com.heretere.hpwp.libs.hdl'
    relocate 'org.antlr', 'com.heretere.hpwp.libs.hdl.antlr'
    relocate 'org.tomlj', 'com.heretere.hpwp.libs.hdl.tomlj'
    relocate 'co.aikar.commands', 'com.heretere.hpwp.libs.acf'
    relocate 'co.aikar.locales', 'com.heretere.hpwp.libs.acf.locales'
}